\documentclass[a4paper]{amsart}

\newif\iflmcs\lmcsfalse % <--------------- TOGGLE THIS FOR FINAL VERSION OF LMCS
                        %                  Trash .aux file after toggling
\usepackage{stmaryrd}
\usepackage{graphicx}
\usepackage[lutzsyntax]{virginialake}\vlsmallbrackets\aftrianglefalse
\iflmcs\def\url #1#2{\relax}\else\usepackage[pdfborder={0 0 0}]{hyperref}\fi

%--------- Theorem etc
\newtheorem{thm}{Theorem}[section]
\newtheorem{cor}[thm]{Corollary}
\newtheorem{lem}[thm]{Lemma}
\newtheorem{pro}[thm]{Proposition}

\theoremstyle{remark}
\newtheorem{rem}[thm]{Remark}

\theoremstyle{definition}
\newtheorem{defi}[thm]{Definition}
%---------

%-------------------------------------------------------- REMOVE WHEN PAPER DONE
\newcommand{\Ale}[1]{{\color{NavyBlue}\noindent {\bf A:} #1}}
\newcommand{\Tom}[1]{{\color{PineGreen}\noindent {\bf T:} #1}}
\newcount\todocount\todocount=0
\newcommand{\TODO}[1]{\global\advance\todocount by1%
            {\color{Red}\noindent{\bf\the\todocount\ TODO:} #1}}\vlupdate{\TODO}
%\renewcommand{\Ale}[1]{\relax}  % Comment/uncomment these three lines
%\renewcommand{\Tom}[1]{\relax}  % in order to display/hide inline comments
%\renewcommand{\TODO}[1]{\relax} %
%-------------------------------------------------------- REMOVE WHEN PAPER DONE

\begin{document}

\title[Normalisation Control in Deep Inference   via Atomic Flows II]
      {Normalisation Control in Deep Inference\\ via Atomic Flows II}

\author{Alessio Guglielmi}
\address{University of Bath, Bath BA2 7AY, UK}

\author{Tom Gundersen}
\iflmcs\address{University of Bath, Bath BA2 7AY, UK}\fi

\thanks{This work was in part funded by an Overseas Research Scholarship and a Research Studentship, both from the University of Bath, and by the British Council Alliance Programme.}

\keywords{Normalisation, deep inference, cut elimination, atomic flows}

\subjclass{F.4.1 Mathematical Logic---Proof theory}

\begin{abstract}
\end{abstract}

\maketitle

%===============================================================================
\section{Introduction}
\newcommand{\ot}{\mathbin\shortleftarrow}
\newcommand{\fff}{\mathsf f}
\newcommand{\ttt}{\mathsf t}
\newcommand{\ai}{\mathsf{ai}}
\newcommand{\aw}{\mathsf{aw}}
\newcommand{\ac}{\mathsf{ac}}
\newcommand{\aid}{{\ai{\downarrow}}}
\newcommand{\awd}{{\aw{\downarrow}}}
\newcommand{\acd}{{\ac{\downarrow}}}
\newcommand{\aiu}{{\ai{\uparrow}}}
\newcommand{\awu}{{\aw{\uparrow}}}
\newcommand{\acu}{{\ac{\uparrow}}}
\newcommand{\swi}{\mathsf{s}}
\newcommand{\med}{\mathsf{m}}
\newcommand{\sus}{\mathsf{ss}}
\newcommand{\said}{\mathsf{s}\aid}
\newcommand{\contr}{\mathsf{c}}
\newcommand{\cod}{{\contr{\downarrow}}}
\newcommand{\cou}{{\contr{\uparrow}}}
\newcommand{\SKS}{\mathsf{SKS}}
\newcommand{\ppl  }{{\mathchoice{\scriptstyle+}
                                {\scriptstyle+}
                                {\scriptstyle+}
                                {\scriptscriptstyle+}}}
\newcommand{\pmi  }{{\mathchoice{\scriptstyle-}
                                {\scriptstyle-}
                                {\scriptstyle-}
                                {\scriptscriptstyle-}}}

\Ale{were the previous methods crap?}

\Tom{in my opinion the method shown here is a strict improvement, let me know if you know of any downsides (I might have forgotten)}

\Ale{global?}

In \cite{GuglGund:07:Normalis:lr} we introduced \emph{atomic flows} as a tool to study normalisation. In this paper we focus on global normalisation procedures and show how they provide for more general and principled tools than what we studied before. The paper is in two parts, the first part gives a \emph{confluent} cut-elimination procedure for propositional classical logic and the second part gives a generalisation of the \emph{streamlining} procedure described in \cite{GuglGund:07:Normalis:lr}.

\Ale{is the causual relationship known?}

Atomic flows are graphical representations of derivations conserving their size as well as the causal relationship between the structural inference rules. All information about logical connectives and logical inference rules is disregarded. The crucial property of atomic flows is that they contain all the information necessary to perform normalisation. We can either just normalise the atomic flows, or use the atomic flows to decide how to normalise the derivations.

\Ale{previous sentence, see hand written comments [could not read comment]}

A streamlined derivation is a derivation whose atomic flow has a speciﬁc shape, in particular this entails that

\begin{enumerate}
\item a streamlined derivation contains no causal relationship between an axiom and a cut; and
\item in the special case where the premiss of a streamlined derivation is $\ttt$, the derivation is cut-free.
\end{enumerate}

\Ale{causal relationship not understandable}

\Ale{put a picture}

\Tom{will do (later, when the text is finished)}

Given the atomic flow of a derivation, we can tell what the atomic flow of the streamlined derivation would be. This is of particular interest because the atomic flows do not have access to any information about logical inference rules. This is remarkable because the relationship of the logical inference rules is usually considered crusial to have cut-elimination.

The novelty of this work is to only use global proof transformations when performing normalisation. We single out axioms and cuts and consider the rest of the atomic flow to be inside `black boxes' which we do not need to look inside. Then, by knowing which axioms are connected with which cuts, we can normalise the derivation without having any more information about its internal structure. The streamlining procedures presented in \cite{GuglGund:07:Normalis:lr} had two sources of exponential growth, it was not strongly normalising and the proof of termination was not very intuitive. With the new methods we have removed one source of exponential growth and both termination and strong normalisation are immediate.

\Ale{was there anything good about the previous paper?}
\Ale{isn't strong normalisation enough?}

\section{Deep Inference and Atomic Flows}

Deep inference is a relatively new proof-theoretic methodology developed over the past ten years. Deep inference differs from the traditional Gentzen-style methodology in that it allows inference at any level in formulae, not only at the root connective. This allows for much greater freedom in designing formalisms and logical systems, but it also makes normalisation theory much more challenging.

In this paper, we are working in the deep-inference formalism `calculus of structures' \cite{Gugl:06:A-System:kl}, but the results here are not specific to this formalism as we will discuss later.

The system we use for propositional classical logic is system $\SKS$ \cite{BrunTiu:01:A-Local-:mz}:

\Ale{adjust spacing}

\begin{figure}[h]
\begin{center}
\begin{tabular}{ccc}
$\vlinf{\aid}{}{\vls[a.\bar{a}]}{\ttt}$ & $\vlinf{\acd}{}{a}{\vls[a.a]}$ & $\vlinf{\awd}{}{a}{\fff}$ \\
interaction (axiom) & contraction & weakening \\
\noalign{\bigskip}
\\
$\vlinf{\aiu}{}{\fff}{\vls(\bar{a}.a)}$ & $\vlinf{\acu}{}{\vls(a.a)}{a}$ & $\vlinf{\awd}{}{\ttt}{a}$ \\
cointeraction (cut) & cocontraction & coweakening \\
\noalign{\bigskip}
\\
\end{tabular}
\begin{tabular}{cc}
$\vlinf{\swi}{}{\vls[(\alpha.\beta).\gamma]}{\vls(\alpha.[\beta.\gamma])}$ &
$\vlinf{\med}{}{\vls([\alpha.\beta].[\gamma.\delta])}{\vls[(\alpha.\gamma).(\beta.\delta)]}$ \\
switch & medial
\end{tabular}
\end{center}
\end{figure}

Furmulae are considered equal modulo associativity and commutativity of $\wedge$ and $\vee$, and idempotency and identity of $\ttt$ and $\fff$. Furthermore, negation is only allowed on atoms which is possible due to De Morgan's laws.

In this paper we will mainly concern ourselves with the structural rules.
%===============================================================================
\section{Confluent Cut-Elimination For Proofs}

\begin{defi}
Let $a$ be an atom and $\Phi$ be a derivation. Then a $\top$-experiment (resp.\ $\bot$-experiment) on $\Phi$ with respect to $a$ is a derivation $\Phi_{a_\top}$ (resp. $\Phi_{a_\bot}$) obtained from $\Phi$ by substituting every interaction (resp.\ cointeraction) applied to $a$ and $\bar a$ with a weakening (resp.\ coweakening) applied to $a$ and a $\sus$ applied to $\bar a$ to bring it to the outside of the derivation and create a $\ttt$ (resp.\ $\fff$) in its place.
\end{defi}

\begin{lem}
Let $\Phi$ be a derivation and $a$ and atom in $\Phi$, then the atomic flow of $a$ in $\Phi_{a_\top}$ and in $\Phi_{a_\bot}$ are:
\end{lem}


As an example consider the derivation $\vlder{\Phi}{}{\beta}{\alpha}$ containing three interactions and two cointeractions applied to $a$. Then the $\top$-experiment on $\Phi$ with respect to $a$ is $\vlder{\Phi_{a_\top}}{}{\beta}{\vls(\alpha.{\bar a}.{\bar a}.{\bar a})}$, the $\top$-experiment on $\Phi$ with respect to $\bar a$ is $\vlder{\Phi_{\bar a_\top}}{}{\beta}{\vls(\alpha.a.a.a)}$, the $\bot$-experiment on $\Phi$ with respect to $a$ is $\vlder{\Phi_{a_\bot}}{}{\vls[\beta.{\bar a}.{\bar a}]}{\alpha}$ and the $\bot$-experiment on $\Phi$ with respect to $\bar a$ is $\vlder{\Phi_{\bar a_\bot}}{}{\vls[\beta.a.a]}{\alpha}$.

One may wish to do repeated experiments and this works in the obvious way. For instance if $\Phi$ also has one interaction applied to $b$ the $\top$-experiment on $\Phi_{a_\bot}$ with respect to $b$ is $\vlder{\Phi_{a_\bot b_\top}}{}{\vls[\beta.{\bar a}.{\bar a}]}{\vls(\alpha.{\bar b})}$.

\begin{pro}
Let $\Phi$ be a derivation containing the atom $a$ then $\Phi_{a_\top}=\Phi_{a_\top {\bar a_\top}}$ , $\Phi_{a_\top {\bar a_\bot}}=\Phi_{{\bar a_\bot} a_\top}$, $\Phi_{a_\top b_\top}=\Phi_{b_\top a_\top}$ and $\Phi_{a_\top b_\bot}=\Phi_{b_\bot a_\top}$.
\end{pro}

\begin{thm}
Let $\Phi$ be a derivation from $\alpha$ to $\beta$ containing the atom $a$. Then there exist a derivation $\Phi_a$ such that the atomic flow of $a$ in $\Phi_a$ is streamlined and if the atomic flow of $b$ in $\Phi$ was streamlined then the atomic flow of $b$ in $\Phi_a$ is streamlined.
\end{thm}

\begin{proof}
Consider the experiments $\Phi_{a_\bot},\Phi_{a_\top {\bar a_\bot}},\Phi_{a_\bot {\bar a_\top}},\Phi_{a_\top}$. Now build $\Phi_a$:
\[
\vlderivation
{
 \vlin{\cod}{}{\beta}
 {
  \vlin{\swi}{}{\vls[\beta.\beta.\beta.\Phi_{a_\top}]}
  {
   \vlin{\swi}{}{\vls([\beta.\beta.\Phi_{a_\bot {\bar a_\top}}].\alpha)}
   {
    \vlin{\swi}{}{\vls([\beta.\Phi_{a_\top {\bar a_\bot}}].\alpha.\alpha)}
    {
     \vlin{\cou}{}{\vls(\Phi_{a_\bot}.\alpha.\alpha.\alpha)}
     {
      \vlhy{\alpha}
     }
    }
   }
  }
 }
}\quad.
\]
By studying the atomic flow of this derivaiton and verifying that there is no connection between an interaction and a cointeraction the result follows.
\end{proof}


\iflmcs\else\let\oldurl\url\renewcommand{\url}[1]{\hfill\break\oldurl{#1}}\fi

\bibliographystyle{alpha}
\bibliography{di-biblio}

\end{document}